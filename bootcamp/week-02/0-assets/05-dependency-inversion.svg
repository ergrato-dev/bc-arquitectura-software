<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 700">
  <!-- Fondo -->
  <rect width="1200" height="700" fill="#1e1e1e"/>
  
  <!-- T√≠tulo -->
  <text x="600" y="50" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
    Dependency Inversion Principle (DIP)
  </text>
  
  <!-- Violaci√≥n DIP -->
  <g transform="translate(100, 100)">
    <text x="200" y="0" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#e74c3c">
      ‚ùå Violaci√≥n DIP: Alto Acoplamiento
    </text>
    
    <!-- M√≥dulo de alto nivel -->
    <rect x="50" y="30" width="300" height="80" rx="8" fill="#3a1a1a" stroke="#e74c3c" stroke-width="3"/>
    <text x="200" y="60" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
      UserService
    </text>
    <text x="200" y="85" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" text-anchor="middle" fill="#999">
      (M√≥dulo de Alto Nivel)
    </text>
    
    <!-- Flecha directa a implementaci√≥n concreta -->
    <path d="M 200,110 L 200,170" stroke="#e74c3c" stroke-width="3" marker-end="url(#arrowRed)"/>
    <text x="220" y="145" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#e74c3c" font-weight="bold">
      Depende de
    </text>
    <text x="220" y="160" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#e74c3c" font-weight="bold">
      concreci√≥n
    </text>
    
    <!-- M√≥dulo de bajo nivel -->
    <rect x="50" y="170" width="300" height="80" rx="8" fill="#3a1a1a" stroke="#e74c3c" stroke-width="3"/>
    <text x="200" y="200" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
      MySQLDatabase
    </text>
    <text x="200" y="225" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" text-anchor="middle" fill="#999">
      (Implementaci√≥n Concreta)
    </text>
    
    <!-- Problemas -->
    <rect x="50" y="280" width="300" height="120" rx="8" fill="#2a2a2a" stroke="#666" stroke-width="2"/>
    <text x="200" y="305" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#e74c3c">
      ‚ö†Ô∏è Problemas
    </text>
    <text x="70" y="330" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#b0b0b0">
      ‚Ä¢ Cambiar BD requiere cambiar UserService
    </text>
    <text x="70" y="350" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#b0b0b0">
      ‚Ä¢ Imposible testear con mocks
    </text>
    <text x="70" y="370" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#b0b0b0">
      ‚Ä¢ Alto nivel depende de bajo nivel
    </text>
    <text x="70" y="390" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#b0b0b0">
      ‚Ä¢ Sistema r√≠gido y fr√°gil
    </text>
  </g>
  
  <!-- Flecha de transformaci√≥n -->
  <g transform="translate(430, 250)">
    <path d="M 0,0 L 120,0" stroke="#27ae60" stroke-width="4" fill="none" marker-end="url(#arrowGreen)"/>
    <text x="60" y="-10" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#27ae60">
      Invertir
    </text>
    <text x="60" y="20" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" text-anchor="middle" fill="#999">
      Dependencia
    </text>
  </g>
  
  <!-- Aplicando DIP -->
  <g transform="translate(580, 100)">
    <text x="280" y="0" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#27ae60">
      ‚úÖ Aplicando DIP: Inversi√≥n
    </text>
    
    <!-- M√≥dulo de alto nivel -->
    <rect x="130" y="30" width="300" height="80" rx="8" fill="#1a3a2a" stroke="#27ae60" stroke-width="3"/>
    <text x="280" y="60" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
      UserService
    </text>
    <text x="280" y="85" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" text-anchor="middle" fill="#999">
      (M√≥dulo de Alto Nivel)
    </text>
    
    <!-- Flecha a abstracci√≥n -->
    <path d="M 280,110 L 280,170" stroke="#27ae60" stroke-width="3" marker-end="url(#arrowGreen)"/>
    <text x="300" y="145" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#27ae60" font-weight="bold">
      Depende de
    </text>
    <text x="300" y="160" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="12" fill="#27ae60" font-weight="bold">
      abstracci√≥n
    </text>
    
    <!-- Abstracci√≥n (interfaz) -->
    <rect x="130" y="170" width="300" height="80" rx="8" fill="#2a2a2a" stroke="#f39c12" stroke-width="3" stroke-dasharray="10,5"/>
    <text x="280" y="195" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="14" text-anchor="middle" fill="#f39c12">
      &lt;&lt;interface&gt;&gt;
    </text>
    <text x="280" y="218" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
      Database
    </text>
    <text x="280" y="238" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" text-anchor="middle" fill="#999">
      (Abstracci√≥n)
    </text>
    
    <!-- Implementaciones concretas -->
    <g transform="translate(0, 270)">
      <!-- MySQL -->
      <rect x="10" y="0" width="170" height="70" rx="8" fill="#1a3a2a" stroke="#27ae60" stroke-width="2"/>
      <text x="95" y="30" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
        MySQLDatabase
      </text>
      <text x="95" y="50" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#999">
        implements Database
      </text>
      
      <!-- PostgreSQL -->
      <rect x="200" y="0" width="170" height="70" rx="8" fill="#1a3a2a" stroke="#27ae60" stroke-width="2"/>
      <text x="285" y="30" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
        PostgreSQLDatabase
      </text>
      <text x="285" y="50" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#999">
        implements Database
      </text>
      
      <!-- Mock -->
      <rect x="390" y="0" width="170" height="70" rx="8" fill="#1a3a2a" stroke="#27ae60" stroke-width="2"/>
      <text x="475" y="30" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#e0e0e0">
        MockDatabase
      </text>
      <text x="475" y="50" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="11" text-anchor="middle" fill="#999">
        implements Database
      </text>
      
      <!-- Flechas de implementaci√≥n -->
      <path d="M 95,-10 L 210,0" stroke="#27ae60" stroke-width="2" fill="none" stroke-dasharray="5,5" marker-end="url(#arrowGreenDashed)"/>
      <path d="M 285,-10 L 280,0" stroke="#27ae60" stroke-width="2" fill="none" stroke-dasharray="5,5" marker-end="url(#arrowGreenDashed)"/>
      <path d="M 475,-10 L 350,0" stroke="#27ae60" stroke-width="2" fill="none" stroke-dasharray="5,5" marker-end="url(#arrowGreenDashed)"/>
    </g>
  </g>
  
  <!-- Beneficios -->
  <g transform="translate(100, 550)">
    <rect width="1000" height="130" rx="10" fill="#1a3a2a" stroke="#27ae60" stroke-width="2"/>
    <text x="20" y="30" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="16" font-weight="bold" fill="#27ae60">
      ‚úÖ Beneficios de DIP:
    </text>
    <text x="30" y="55" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" fill="#b0b0b0">
      üîÑ <tspan font-weight="bold">Flexibilidad:</tspan> Cambiar implementaci√≥n sin modificar c√≥digo de alto nivel
    </text>
    <text x="30" y="78" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" fill="#b0b0b0">
      üß™ <tspan font-weight="bold">Testeabilidad:</tspan> Inyectar mocks f√°cilmente para pruebas
    </text>
    <text x="30" y="101" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" fill="#b0b0b0">
      üîì <tspan font-weight="bold">Desacoplamiento:</tspan> Alto nivel NO depende de detalles de implementaci√≥n
    </text>
    <text x="30" y="124" font-family="Inter, system-ui, -apple-system, sans-serif" font-size="13" fill="#b0b0b0">
      ‚ö° <tspan font-weight="bold">Extensibilidad:</tspan> Agregar nuevas implementaciones sin tocar c√≥digo existente
    </text>
  </g>
  
  <!-- Marcadores de flecha -->
  <defs>
    <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#e74c3c"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#27ae60"/>
    </marker>
    <marker id="arrowGreenDashed" markerWidth="15" markerHeight="15" refX="0" refY="5" orient="auto">
      <path d="M15,5 L0,0 L0,10 Z" fill="#1e1e1e" stroke="#27ae60" stroke-width="2"/>
    </marker>
  </defs>
</svg>
