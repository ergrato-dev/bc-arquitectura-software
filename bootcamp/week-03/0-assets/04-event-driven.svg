<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 550">
  <defs>
    <style>
      .title { font: bold 24px sans-serif; fill: #2c3e50; }
      .subtitle { font: bold 16px sans-serif; fill: #fff; }
      .text { font: 13px sans-serif; fill: #555; }
      .producer { fill: #27ae60; stroke: #229954; stroke-width: 2; }
      .eventbus { fill: #f39c12; stroke: #e67e22; stroke-width: 3; }
      .consumer { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .arrow { fill: none; stroke: #34495e; stroke-width: 2; marker-end: url(#arrowhead); }
      .event-label { font: italic 11px sans-serif; fill: #7f8c8d; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#34495e" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="450" y="40" class="title" text-anchor="middle">Arquitectura Basada en Eventos (Event-Driven)</text>
  
  <!-- Producers Section -->
  <g id="producers">
    <text x="120" y="90" class="subtitle" fill="#27ae60">PRODUCTORES</text>
    
    <!-- Order Service -->
    <rect x="50" y="110" width="140" height="80" class="producer" rx="8"/>
    <text x="120" y="140" class="subtitle" text-anchor="middle">ðŸ“¦</text>
    <text x="120" y="165" class="text" text-anchor="middle" font-weight="bold">Servicio de</text>
    <text x="120" y="180" class="text" text-anchor="middle" font-weight="bold">Ã“rdenes</text>
    
    <!-- User Service -->
    <rect x="50" y="220" width="140" height="80" class="producer" rx="8"/>
    <text x="120" y="250" class="subtitle" text-anchor="middle">ðŸ‘¤</text>
    <text x="120" y="275" class="text" text-anchor="middle" font-weight="bold">Servicio de</text>
    <text x="120" y="290" class="text" text-anchor="middle" font-weight="bold">Usuarios</text>
  </g>
  
  <!-- Event Bus -->
  <g id="eventbus">
    <rect x="300" y="140" width="300" height="130" class="eventbus" rx="12"/>
    <text x="450" y="175" class="subtitle" text-anchor="middle" font-size="20">EVENT BUS</text>
    <text x="450" y="205" class="text" text-anchor="middle" fill="#fff" font-weight="bold">Message Broker</text>
    <text x="450" y="230" class="text" text-anchor="middle" font-size="12" fill="#fff">â€¢ RabbitMQ</text>
    <text x="450" y="248" class="text" text-anchor="middle" font-size="12" fill="#fff">â€¢ Apache Kafka</text>
    <text x="450" y="266" class="text" text-anchor="middle" font-size="12" fill="#fff">â€¢ Redis Pub/Sub</text>
  </g>
  
  <!-- Consumers Section -->
  <g id="consumers">
    <text x="750" y="90" class="subtitle" fill="#3498db">CONSUMIDORES</text>
    
    <!-- Payment Service -->
    <rect x="680" y="110" width="140" height="70" class="consumer" rx="8"/>
    <text x="750" y="135" class="subtitle" text-anchor="middle">ðŸ’³</text>
    <text x="750" y="160" class="text" text-anchor="middle" font-weight="bold">Servicio de</text>
    <text x="750" y="175" class="text" text-anchor="middle" font-weight="bold">Pagos</text>
    
    <!-- Email Service -->
    <rect x="680" y="195" width="140" height="70" class="consumer" rx="8"/>
    <text x="750" y="220" class="subtitle" text-anchor="middle">ðŸ“§</text>
    <text x="750" y="245" class="text" text-anchor="middle" font-weight="bold">Servicio de</text>
    <text x="750" y="260" class="text" text-anchor="middle" font-weight="bold">Email</text>
    
    <!-- Analytics Service -->
    <rect x="680" y="280" width="140" height="70" class="consumer" rx="8"/>
    <text x="750" y="305" class="subtitle" text-anchor="middle">ðŸ“Š</text>
    <text x="750" y="330" class="text" text-anchor="middle" font-weight="bold">Servicio de</text>
    <text x="750" y="345" class="text" text-anchor="middle" font-weight="bold">Analytics</text>
    
    <!-- Notification Service -->
    <rect x="680" y="365" width="140" height="70" class="consumer" rx="8"/>
    <text x="750" y="390" class="subtitle" text-anchor="middle">ðŸ””</text>
    <text x="750" y="415" class="text" text-anchor="middle" font-weight="bold">Servicio de</text>
    <text x="750" y="430" class="text" text-anchor="middle" font-weight="bold">Notificaciones</text>
  </g>
  
  <!-- Arrows from Producers to Event Bus -->
  <path d="M 190 150 L 295 180" class="arrow"/>
  <text x="220" y="160" class="event-label">emite eventos</text>
  
  <path d="M 190 260 L 295 220" class="arrow"/>
  <text x="220" y="250" class="event-label">emite eventos</text>
  
  <!-- Arrows from Event Bus to Consumers -->
  <path d="M 600 180 L 675 145" class="arrow"/>
  <text x="620" y="155" class="event-label">order:created</text>
  
  <path d="M 600 195 L 675 230" class="arrow"/>
  <text x="620" y="205" class="event-label">order:created</text>
  
  <path d="M 600 210 L 675 315" class="arrow"/>
  <text x="620" y="255" class="event-label">order:created</text>
  
  <path d="M 600 240 L 675 400" class="arrow"/>
  <text x="620" y="305" class="event-label">user:registered</text>
  
  <!-- Benefits Box -->
  <g id="benefits">
    <rect x="50" y="360" width="540" height="110" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="2" rx="8"/>
    <text x="320" y="385" class="text" font-weight="bold" text-anchor="middle">âœ… Ventajas:</text>
    <text x="70" y="410" class="text">â€¢ Desacoplamiento total entre productores y consumidores</text>
    <text x="70" y="430" class="text">â€¢ Escalabilidad: agregar consumidores sin modificar productores</text>
    <text x="70" y="450" class="text">â€¢ Procesamiento asÃ­ncrono: operaciones en paralelo</text>
  </g>
  
  <!-- Note -->
  <text x="450" y="530" class="event-label" text-anchor="middle">
    Los productores no conocen a los consumidores, solo emiten eventos cuando algo importante ocurre
  </text>
</svg>
